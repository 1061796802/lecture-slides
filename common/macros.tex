\usetheme[titleformat=regular,
          inner/block=fill,
          inner/sectionpage=progressbar]{metropolis}

% 中文字体
\ifxetex
  \usepackage{xeCJK}
  \setCJKmainfont[BoldFont=Hiragino Sans GB W6]{Hiragino Sans GB W3}
  \xeCJKsetup{CJKecglue = {\hskip 0pt plus 0.08\baselineskip},
              xCJKecglue = {false}}
  \punctstyle{plain}
\fi

\usepackage{graphicx}
% http://tex.stackexchange.com/questions/125579/subcaption-with-beamer
\usepackage[compatibility=false]{caption}
\usepackage{subcaption}

% for gif
\usepackage{animate}

% chemistry
\usepackage[version=3]{mhchem}

% citations
\usepackage[backend=bibtex,
            style=nature,
            url=false,
            doi=false,
            isbn=false,
            maxcitenames=3,
            maxbibnames=40,
            abbreviate=true]{biblatex}
\addbibresource{course.bib}
% http://tex.stackexchange.com/questions/55780/disable-month-in-biblatex-bibliography
\AtEveryCitekey{
    \clearlist{language}
    \clearfield{month}
    \clearfield{day}
}
\AtEveryBibitem{
    \clearlist{language}
    \clearfield{month}
    \clearfield{day}
}

% tikz
\usepackage{tikz}
\usetikzlibrary{arrows,positioning}
\tikzset{
    % Define standard arrow tip
    >=stealth',
    % Define style for boxes
    punkt/.style={
           rectangle,
           rounded corners,
           draw=black, very thick,
           text width=4em,
           minimum height=2em,
           text centered},
    invisible/.style={
        draw,
        circle,
        minimum size=0mm,
        inner sep=0pt,
        outer sep=0pt},
    % Define arrow style
    pil/.style={
           ->,
           thick,
           shorten <=2pt,
           shorten >=2pt,}
}

% items
\setbeamertemplate{itemize item}[square]
\setbeamertemplate{itemize subitem}[triangle]
\setbeamertemplate{itemize subsubitem}[ball]
\setbeamertemplate{caption label separator}{. }

% descriptions
\defbeamertemplate{description item}{align left}{\insertdescriptionitem\hfill}
\setbeamertemplate{description item}[align left]

% links
\usepackage{hyperref}
\hypersetup{colorlinks = true,
            linkcolor = mDarkBrown,
            urlcolor  = mDarkBrown,
            citecolor = mDarkBrown,
            anchorcolor = mDarkBrown}

% font size of codes
\renewenvironment{texttt}{\small}{}
\usepackage{etoolbox}
\ifcsmacro{Shaded}{
    \renewenvironment{Shaded}{\footnotesize}{}
}

\usepackage[overlay,absolute]{textpos}

\TPGrid[10 mm,8 mm]{9}{8}
% beamer's left and right margin is 10 mm. The top/bottom margin is ??
% or without a header ??
% the slide dimensions are 128 mm x 96 mm
% so the resulting \TPHorizModule = 12 mm and \TPVertModule = 10 mm
